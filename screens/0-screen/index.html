<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="shortcut icon" href="../../img/favicon.ico">
  <title>Introduction - Submit my Planning Application</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Introduction";
    var mkdocs_page_input_path = "screens/0-screen.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js" defer></script>
  <script src="../../js/modernizr-2.8.3.min.js" defer></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> Submit my Planning Application</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="../..">Home</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../../about/">About</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../../schema/">Generated Schema</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../../contributing/">Getting Started</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../../contributing/python/">Hactar Code Style</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../../contributing/setup/">Setup</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../screens/">Screen notes</a>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">API Walkthrough</span>
    <ul class="subnav">
                <li class=" current">
                    
    <a class="current" href="./">Introduction</a>
    <ul class="subnav">
            
    <li class="toctree-l3"><a href="#introduction">Introduction</a></li>
    
        <ul>
        
            <li><a class="toctree-l4" href="#authentication">Authentication</a></li>
        
            <li><a class="toctree-l4" href="#sign-up">Sign up</a></li>
        
            <li><a class="toctree-l4" href="#verify">Verify</a></li>
        
            <li><a class="toctree-l4" href="#reset-password">Reset password</a></li>
        
            <li><a class="toctree-l4" href="#default-data">Default data</a></li>
        
            <li><a class="toctree-l4" href="#completed-application-output">Completed application output</a></li>
        
        </ul>
    

    </ul>
                </li>
                <li class="">
                    
    <a class="" href="../1-screen/">1. Starting the works</a>
                </li>
                <li class="">
                    
    <a class="" href="../2-screen/">2. About the works</a>
                </li>
                <li class="">
                    
    <a class="" href="../3-screen/">3. About the extension or alteration</a>
                </li>
                <li class="">
                    
    <a class="" href="../4-screen/">4. About the extension or alteration to the original house</a>
                </li>
                <li class="">
                    
    <a class="" href="../5-screen/">5. About the Single storey extension</a>
                </li>
                <li class="">
                    
    <a class="" href="../6-screen/">6. Basement works</a>
                </li>
                <li class="">
                    
    <a class="" href="../7-screen/">7. Roof works</a>
                </li>
                <li class="">
                    
    <a class="" href="../8-screen/">8. Porch works</a>
                </li>
                <li class="">
                    
    <a class="" href="../9-screen/">9. Balcony / Terrace works</a>
                </li>
                <li class="">
                    
    <a class="" href="../10-screen/">10. Staircase works</a>
                </li>
                <li class="">
                    
    <a class="" href="../11-screen/">11. Window / Door works</a>
                </li>
                <li class="">
                    
    <a class="" href="../12-screen/">12. Cladding works</a>
                </li>
                <li class="">
                    
    <a class="" href="../13-screen/">13. Outbuilding works</a>
                </li>
                <li class="">
                    
    <a class="" href="../14-screen/">14. Outbuilding details</a>
                </li>
                <li class="">
                    
    <a class="" href="../15-screen/">15. Changes to fences, gates, walls</a>
                </li>
                <li class="">
                    
    <a class="" href="../16-screen/">16. Changes to fences, gates, walls - locations</a>
                </li>
                <li class="">
                    
    <a class="" href="../17-screen/">17. About the site access - scope</a>
                </li>
                <li class="">
                    
    <a class="" href="../18-screen/">18. About the vehicle / pedestrian access</a>
                </li>
                <li class="">
                    
    <a class="" href="../19-screen/">19. About the vehicle / pedestrian access</a>
                </li>
                <li class="">
                    
    <a class="" href="../20-screen/">20. About car parking spaces</a>
                </li>
                <li class="">
                    
    <a class="" href="../21-screen/">21. About bike parking spaces</a>
                </li>
                <li class="">
                    
    <a class="" href="../22-screen/">22. About electrical vehicles charging points</a>
                </li>
                <li class="">
                    
    <a class="" href="../23-screen/">23. About the equipment</a>
                </li>
                <li class="">
                    
    <a class="" href="../24-screen/">24. Equipment locations</a>
                </li>
                <li class="">
                    
    <a class="" href="../25-screen/">25. Floor area</a>
                </li>
                <li class="">
                    
    <a class="" href="../26-screen/">26. Additional bedrooms</a>
                </li>
                <li class="">
                    
    <a class="" href="../27-screen/">27. About the trees and hedges</a>
                </li>
                <li class="">
                    
    <a class="" href="../28-screen/">28. About materials</a>
                </li>
                <li class="">
                    
    <a class="" href="../29-screen/">29. Specifying materials</a>
                </li>
                <li class="">
                    
    <a class="" href="../30-screen/">30. Other materials options</a>
                </li>
                <li class="">
                    
    <a class="" href="../31-screen/">31. Other materials</a>
                </li>
                <li class="">
                    
    <a class="" href="../32-screen/">32. Document uploads</a>
                </li>
                <li class="">
                    
    <a class="" href="../33-screen/">33. Declarations</a>
                </li>
                <li class="">
                    
    <a class="" href="../34-screen/">34. Payments</a>
                </li>
                <li class="">
                    
    <a class="" href="../35-screen/">35. Submitting</a>
                </li>
                <li class="">
                    
    <a class="" href="../user/user-endpoints/">User Endpoints</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../../tests/">Tests</a>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">Submit my Planning Application</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>API Walkthrough &raquo;</li>
        
      
    
    <li>Introduction</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://code.hactar.is/projects/hackney-planning/repositories/smpa/tree/master/docs/docs/screens/0-screen.md"> Edit on Codebase</a>
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="introduction">Introduction</h1>
<h2 id="authentication">Authentication</h2>
<p>Post form-encoded <code>email</code> and <code>password</code> to the auth endpoint and receive a JSON Web Token back.</p>
<p><code>POST /api/v1/auth</code></p>
<h3 id="example">Example</h3>
<pre><code>email: test@example.com
password: secretpassword
</code></pre>
<h3 id="returns">Returns</h3>
<pre><code>{
  "message": "login successful!",
  "jwt": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VyIjp7ImlkIjoiZWYwY2Q5NDktMzFiYS00MjhlLWE3ZTQtMTk0MzczOWIxN2YwIn0sImlhdCI6MTU1NDQ2MDQ0MSwibmJmIjoxNTU0NDYwNDQxLCJleHAiOjE1NTQ1NDY4NDF9.4bIuU99dFXVb3nmEpohvkCl_etOJ0bDm3OT916Suyxo"
}
</code></pre>
<h2 id="sign-up">Sign up</h2>
<p>Post form-encoded <code>email</code>, <code>password</code> and <code>password_confirm</code> to the <code>users/create</code> endpoint. This will create an UNVERIFIED user who is unable to log in until they have completed the verification process. It will also send them an email with the verification link in.</p>
<p><code>POST /api/v1/users/create</code></p>
<h3 id="example_1">Example</h3>
<pre><code>email: test@example.com
password: secretpassword
password_confirm: secretpassword
</code></pre>
<h2 id="verify">Verify</h2>
<p>The email that gets sent to the user will contain a verifcation link of the format {BASE_URL}/accounts/verify/{VERIFICATION_TOKEN} where BASE_URL is the URL that the front end application is running at. When the user clicks on that link, the front end should send a <code>GET</code> request to the verification endpoint...</p>
<p><code>GET /api/v1/users/verify/{VERIFICATION_TOKEN}</code></p>
<p>If this is successful, you will receive a similar payload to a login attempt.</p>
<pre><code>{
  "message": "Account verified and logged in",
  "jwt": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VyIjp7ImlkIjoiZWYwY2Q5NDktMzFiYS00MjhlLWE3ZTQtMTk0MzczOWIxN2YwIn0sImlhdCI6MTU1NDQ2MDQ0MSwibmJmIjoxNTU0NDYwNDQxLCJleHAiOjE1NTQ1NDY4NDF9.4bIuU99dFXVb3nmEpohvkCl_etOJ0bDm3OT916Suyxo"
}
</code></pre>
<p>Unsuccessful verifications, ie: user is already verified or the token is not valid should return a 400 with an error message...</p>
<pre><code>{
  "title": "Account already verified"
}
</code></pre>
<h2 id="reset-password">Reset password</h2>
<h3 id="step-1">Step 1</h3>
<p><code>POST /api/v1/users/reset-password/</code></p>
<p>The payload should be just the email address we want to trigger a reset for.</p>
<pre><code>{
    "email": "test@example.com"
}
</code></pre>
<h4 id="success-response">Success Response</h4>
<pre><code>{
  "success": true,
  "message": "Password reset initiated"
}
</code></pre>
<p>This endpoint triggers an email with instructions for resetting a user's password. It will contain a link to <code>{BASE_URL}/accounts/reset-password/{TOKEN}</code></p>
<h3 id="step-2">Step 2</h3>
<p>From this URL, send a new <code>POST</code> with the details of the password reset...</p>
<p><code>POST /api/v1/users/reset-password</code></p>
<pre><code>{
    "token": {TOKEN},
    "password": "secretpassword",
    "password_confirm": "secretpassword"
}
</code></pre>
<h4 id="success-response_1">Success Response</h4>
<pre><code>{
  "success": true,
  "message": "Password reset successful"
}
</code></pre>
<p>Both steps will return a <code>4XX</code> response if there is anything wrong, with a message about what was wrong.</p>
<pre><code>{
    "title": "Passwords do not match"
}
</code></pre>
<h2 id="default-data">Default data</h2>
<p>There are a bunch of endpoints that you can use to grab default data and associated ids.</p>
<pre><code>GET /api/v1/roof-works-types
    /api/v1/works-locations
    /api/v1/basement-works-types
    /api/v1/border-works-types
    /api/v1/access-works-scopes
    /api/v1/access-works-types
    /api/v1/parking-works-scopes
    /api/v1//gate-fences-walls-types
    /api/v1/equipment-works-types
    /api/v1/equipment-works-conservation-types
    /api/v1/area-units
    /api/v1/linear-units
    /api/v1/document-sizes
    /api/v1/materials/options/roof
    /api/v1/materials/options/wall
    /api/v1/materials/options/door
    /api/v1/materials/options/window
    /api/v1/declarations
</code></pre>

<p>These all return a list along the lines of...</p>
<p><code>GET /api/v1/border-works-types</code></p>
<pre><code>[
  {
    "id": "3f1509c9-bced-41e3-b893-421b10b8c1c4",
    "created_at": "2019-04-04T20:01:02.022959",
    "updated_at": "2019-04-04T20:01:02.023000",
    "name": "Replacement and/or repair of pillar caps"
  },
  {
    "id": "e6fe2e49-db1e-481a-903c-5e133c4b8e6a",
    "created_at": "2019-04-04T20:01:02.023155",
    "updated_at": "2019-04-04T20:01:02.023187",
    "name": "Removal of an entrance"
  },
  {
    "id": "28216f89-c1a0-49ca-85b6-ac5a6cccfd0c",
    "created_at": "2019-04-04T20:01:02.023328",
    "updated_at": "2019-04-04T20:01:02.023360",
    "name": "Addition of a new entrance"
  },
  {
    "id": "ab0a8bef-1fca-43c1-97f4-70703d839f97",
    "created_at": "2019-04-04T20:01:02.023497",
    "updated_at": "2019-04-04T20:01:02.023529",
    "name": "Replacement and/or repair of wall"
  }
]
</code></pre>
<h2 id="completed-application-output">Completed application output</h2>
<p>A GET for a completed application currently returns JSON like this...</p>
<pre><code>{
  "id": "5a61838d-0fe5-458a-a683-141b5c3d79fa",
  "created_at": "2019-08-09T10:35:48.520000",
  "updated_at": "2019-08-09T10:35:51.048000",
  "status_id": "5aa415fa-9b25-4828-ac06-cb1ab9b000ea",
  "reference": "2019/5000",
  "status": {
    "id": "5aa415fa-9b25-4828-ac06-cb1ab9b000ea",
    "created_at": "2019-08-09T10:35:47.302000",
    "updated_at": null,
    "name": "Submitted"
  },
  "submitted_at": "2019-08-09T10:35:51.019713+00:00",
  "works_started": true,
  "date_works_started": "2018-01-01",
  "works_completed": false,
  "date_works_completed": null,
  "works_description": null,
  "free_text_description": "Praesent commodo cursus magna,\nvel scelerisque nisl consectetur et. Praesent commodo cursus\nmagna, vel scelerisque nisl consectetur et. Donec sed odio dui.\nNullam id dolor id nibh ultricies vehicula ut id elit. Cum sociis\nnatoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.\n",
  "ownership_declaration": true,
  "reduction_eligible": true,
  "proposalFlow": null,
  "declaration_detail": {
    "id": null,
    "created_at": null,
    "updated_at": null,
    "name": "Sido Jombati",
    "role": "Defender",
    "details": "Everyone's favourite defender"
  },
  "declaration_id": "746b41c8-54b3-4cd6-89d7-2d41d1c55fbe",
  "declaration": {
    "id": "746b41c8-54b3-4cd6-89d7-2d41d1c55fbe",
    "created_at": "2019-08-09T10:35:47.271000",
    "updated_at": null,
    "name": "You are a Hackney Council member of staff"
  },
  "ownership_type_id": "784e54c7-d6da-4613-ac5a-046a27278f4b",
  "ownership_type": {
    "id": "784e54c7-d6da-4613-ac5a-046a27278f4b",
    "created_at": "2019-08-09T10:35:47.286000",
    "updated_at": null,
    "name": "The applicant is the sole owner of the land"
  },
  "owner_id": "b7d623db-5b4a-43df-b3f1-2bfca845d657",
  "owner": {
    "id": "b7d623db-5b4a-43df-b3f1-2bfca845d657",
    "created_at": "2019-08-09T10:35:47.953000",
    "updated_at": "2019-08-09T10:35:51.522000",
    "_id": "5d4d4c835341f36f125953e7",
    "email": "test@example.com",
    "profile_id": "7e5a3176-5b92-4dc0-90d8-b3a96ebe0ed5",
    "role_id": "831083f5-b7c9-4967-8561-ac4011be54e4",
    "role": {
      "id": "831083f5-b7c9-4967-8561-ac4011be54e4",
      "created_at": "2019-08-09T10:35:47.137000",
      "updated_at": null,
      "name": "User"
    },
    "profile": {
      "id": "7e5a3176-5b92-4dc0-90d8-b3a96ebe0ed5",
      "created_at": "2019-08-09T10:35:47.950000",
      "updated_at": null,
      "company": null,
      "name": null,
      "email_addresses": null,
      "phone": null
    },
    "verified_at": "2019-08-09T10:35:47.691653+0000",
    "reset_token": null,
    "reset_token_expires": null
  },
  "site_address": {
    "id": "7f217d2c-90d4-445d-b5d0-54ab3c9f2f02",
    "created_at": "2019-08-09T10:35:48.667000",
    "updated_at": null,
    "number": null,
    "property_name": null,
    "address_line_1": "12 Stephen Mews",
    "address_line_2": null,
    "address_line_3": null,
    "town_city": "London",
    "postcode": "W1T 1AH",
    "easting": null,
    "northing": null,
    "ward": null,
    "bplu": null,
    "uprn": null,
    "property_type": null,
    "description": "Hactar Towers",
    "siteGeoJson": null,
    "application_id": "5a61838d-0fe5-458a-a683-141b5c3d79fa"
  },
  "site_constraints": {
    "id": "c7c461d0-70fe-46f2-80e7-fa3fb71769ba",
    "created_at": "2019-08-09T10:35:48.567000",
    "updated_at": null,
    "has_boundary": "yes",
    "nb_a4d": 2,
    "a4d_name": "Storage and Distribution to Residential, Light Industrial to Residential",
    "nb_conarea": 1,
    "conarea_name": "Victoria Park",
    "nb_tpo": 0,
    "tpo_name": "",
    "is_listed_building": "0",
    "is_floodzone_2": "0",
    "is_floodzone_3a": "0",
    "is_floodzone_3b": "0",
    "geom": null,
    "uprn": 10008300829,
    "application_id": "5a61838d-0fe5-458a-a683-141b5c3d79fa"
  },
  "proposal_extension": {
    "id": "a850af78-6e6a-4df6-9281-0d22a52fb05f",
    "created_at": "2019-08-09T10:35:48.685000",
    "updated_at": "2019-08-09T10:35:48.688000",
    "application_id": "5a61838d-0fe5-458a-a683-141b5c3d79fa",
    "original_house": {
      "id": null,
      "created_at": null,
      "updated_at": null,
      "single_storey_extension": null,
      "two_storey_extension": null,
      "part_single_part_two_storey_extension": null,
      "basement": null,
      "roof": null,
      "porch": null,
      "balcony_terrace": null,
      "staircase": null,
      "windows_doors": null,
      "cladding": {
        "id": null,
        "created_at": null,
        "updated_at": null,
        "works_location_ids": [
          "66d1b304-5729-4654-91df-d6306e249e54",
          "4f464424-ca54-4bc4-b980-c5d957a5ad1a"
        ],
        "works_locations": [
          {
            "id": "66d1b304-5729-4654-91df-d6306e249e54",
            "created_at": "2019-08-09T10:35:47.140000",
            "updated_at": null,
            "name": "Rear"
          },
          {
            "id": "4f464424-ca54-4bc4-b980-c5d957a5ad1a",
            "created_at": "2019-08-09T10:35:47.143000",
            "updated_at": null,
            "name": "Side"
          }
        ]
      }
    },
    "incidental_buildings": {
      "id": null,
      "created_at": null,
      "updated_at": null,
      "removal_or_demolition": true,
      "details": "I'm knocking a shed down.",
      "outbuilding": null
    },
    "boundaries": {
      "id": null,
      "created_at": null,
      "updated_at": null,
      "gates_fences_walls": {
        "id": null,
        "created_at": null,
        "updated_at": null,
        "works_location_ids": [
          "66d1b304-5729-4654-91df-d6306e249e54",
          "4f464424-ca54-4bc4-b980-c5d957a5ad1a"
        ],
        "works_locations": [
          {
            "id": "66d1b304-5729-4654-91df-d6306e249e54",
            "created_at": "2019-08-09T10:35:47.140000",
            "updated_at": null,
            "name": "Rear"
          },
          {
            "id": "4f464424-ca54-4bc4-b980-c5d957a5ad1a",
            "created_at": "2019-08-09T10:35:47.143000",
            "updated_at": null,
            "name": "Side"
          }
        ],
        "works_type_ids": [],
        "works_types": []
      },
      "border_works_type_ids": [],
      "border_works_types": []
    },
    "means_of_access": {
      "id": null,
      "created_at": null,
      "updated_at": null,
      "access_works_scope_id": "44c566ba-95dc-4cff-b0a9-53de934d309e",
      "access_works_scope": null,
      "access_works_sub_type_ids": [
        "f09b702e-c3c6-4db4-9faa-b70288176cac",
        "679143a9-0ee5-478e-984f-11c990979061"
      ],
      "access_works_sub_types": [
        {
          "id": "f09b702e-c3c6-4db4-9faa-b70288176cac",
          "created_at": "2019-08-09T10:35:47.208000",
          "updated_at": null,
          "name": "Addition of a new entrance"
        },
        {
          "id": "679143a9-0ee5-478e-984f-11c990979061",
          "created_at": "2019-08-09T10:35:47.211000",
          "updated_at": null,
          "name": "Removal of an entrance"
        }
      ]
    },
    "parking": {
      "id": null,
      "created_at": null,
      "updated_at": null,
      "parking_works_scope_id": null,
      "parking_works_scope": null,
      "current_car_parking_spaces": 0,
      "planned_car_parking_spaces": 0,
      "current_bike_parking_spaces": 0,
      "planned_bike_parking_spaces": 0,
      "new_ev_charging_points": 10
    },
    "trees": {
      "id": null,
      "created_at": null,
      "updated_at": null,
      "inside_boundry": true,
      "removed_or_pruned": true,
      "outside_boundry": true
    },
    "materials": {
      "id": null,
      "created_at": null,
      "updated_at": null,
      "definitions_in_documents": false,
      "definitions_in_form": false,
      "definitions_to_follow": false,
      "roof": null,
      "walls": null,
      "windows": null,
      "doors": null,
      "other": [
        "The chimney is made of diamonds",
        "The path is made of gold."
      ]
    },
    "additional_floor_area": 23.8,
    "additional_floor_area_units_id": "095bd097-f66e-4c66-bc1e-3521a0358e8d",
    "additional_floor_area_units": {
      "id": "095bd097-f66e-4c66-bc1e-3521a0358e8d",
      "created_at": "2019-08-09T10:35:47.056000",
      "updated_at": null,
      "name": "sq metres"
    },
    "new_single_bedrooms": 2,
    "new_double_bedrooms": 3,
    "owner_id": "b7d623db-5b4a-43df-b3f1-2bfca845d657",
    "owner": {
      "id": "b7d623db-5b4a-43df-b3f1-2bfca845d657",
      "created_at": "2019-08-09T10:35:47.953000",
      "updated_at": "2019-08-09T10:35:51.522000",
      "_id": "5d4d4c835341f36f125953e7",
      "email": "test@example.com",
      "profile_id": "7e5a3176-5b92-4dc0-90d8-b3a96ebe0ed5",
      "role_id": "831083f5-b7c9-4967-8561-ac4011be54e4",
      "role": {
        "id": "831083f5-b7c9-4967-8561-ac4011be54e4",
        "created_at": "2019-08-09T10:35:47.137000",
        "updated_at": null,
        "name": "User"
      },
      "profile": {
        "id": "7e5a3176-5b92-4dc0-90d8-b3a96ebe0ed5",
        "created_at": "2019-08-09T10:35:47.950000",
        "updated_at": null,
        "company": null,
        "name": null,
        "email_addresses": null,
        "phone": null
      },
      "verified_at": "2019-08-09T10:35:47.691653+0000",
      "reset_token": null,
      "reset_token_expires": null
    }
  },
  "proposal_equipment": {
    "id": "2cdc2a8d-8bc3-4601-b939-4a1b39513c2d",
    "created_at": "2019-08-09T10:35:49.489000",
    "updated_at": "2019-08-09T10:35:49.499000",
    "application_id": "5a61838d-0fe5-458a-a683-141b5c3d79fa",
    "equipment": {
      "id": null,
      "created_at": null,
      "updated_at": null,
      "equipment_type_ids": [],
      "equipment_types": [],
      "equipment_conservation_type_ids": [],
      "equipment_conservation_types": [],
      "equipment_locations": [
        {
          "id": null,
          "created_at": null,
          "updated_at": null,
          "location_ids": [
            "9dc99f40-ac1d-421e-a408-c253d7ead671"
          ],
          "locations": [
            {
              "id": "9dc99f40-ac1d-421e-a408-c253d7ead671",
              "created_at": "2019-08-09T10:35:47.149000",
              "updated_at": null,
              "name": "Rear / side wrap-around"
            }
          ],
          "equipment_type_id": "Satellite dish or antenna",
          "equipment_type": null
        }
      ],
      "equipment_conservation_locations": null
    },
    "owner_id": "b7d623db-5b4a-43df-b3f1-2bfca845d657",
    "owner": {
      "id": "b7d623db-5b4a-43df-b3f1-2bfca845d657",
      "created_at": "2019-08-09T10:35:47.953000",
      "updated_at": "2019-08-09T10:35:51.522000",
      "_id": "5d4d4c835341f36f125953e7",
      "email": "test@example.com",
      "profile_id": "7e5a3176-5b92-4dc0-90d8-b3a96ebe0ed5",
      "role_id": "831083f5-b7c9-4967-8561-ac4011be54e4",
      "role": {
        "id": "831083f5-b7c9-4967-8561-ac4011be54e4",
        "created_at": "2019-08-09T10:35:47.137000",
        "updated_at": null,
        "name": "User"
      },
      "profile": {
        "id": "7e5a3176-5b92-4dc0-90d8-b3a96ebe0ed5",
        "created_at": "2019-08-09T10:35:47.950000",
        "updated_at": null,
        "company": null,
        "name": null,
        "email_addresses": null,
        "phone": null
      },
      "verified_at": "2019-08-09T10:35:47.691653+0000",
      "reset_token": null,
      "reset_token_expires": null
    }
  },
  "document_files": [
    {
      "id": "c1465987-c0c0-4fb6-b0a3-d492028b7ea1",
      "created_at": "2019-08-09T10:35:50.099000",
      "updated_at": "2019-08-09T10:35:50.100000",
      "original_name": "test-image.png",
      "storage_path": "5a61838d-0fe5-458a-a683-141b5c3d79fa/c1465987-c0c0-4fb6-b0a3-d492028b7ea1.png",
      "application_id": "5a61838d-0fe5-458a-a683-141b5c3d79fa",
      "document_size_id": "a3ec6180-a863-43e9-8f6c-de7a171ce489",
      "document_size": {
        "id": "a3ec6180-a863-43e9-8f6c-de7a171ce489",
        "created_at": "2019-08-09T10:35:47.079000",
        "updated_at": null,
        "name": "A1"
      },
      "document_types_existing_ids": [
        "cbddcfc8-d062-4202-b350-f875c04c6aa0",
        "f1ff39d9-aab3-46e3-8749-dad11c04e3b8"
      ],
      "document_types_existing": [
        {
          "id": "cbddcfc8-d062-4202-b350-f875c04c6aa0",
          "created_at": "2019-08-09T10:35:47.124000",
          "updated_at": null,
          "name": "Floor plans"
        },
        {
          "id": "f1ff39d9-aab3-46e3-8749-dad11c04e3b8",
          "created_at": "2019-08-09T10:35:47.127000",
          "updated_at": null,
          "name": "Other"
        }
      ],
      "document_types_proposed_ids": [
        "cbddcfc8-d062-4202-b350-f875c04c6aa0",
        "f1ff39d9-aab3-46e3-8749-dad11c04e3b8"
      ],
      "document_types_proposed": [
        {
          "id": "cbddcfc8-d062-4202-b350-f875c04c6aa0",
          "created_at": "2019-08-09T10:35:47.124000",
          "updated_at": null,
          "name": "Floor plans"
        },
        {
          "id": "f1ff39d9-aab3-46e3-8749-dad11c04e3b8",
          "created_at": "2019-08-09T10:35:47.127000",
          "updated_at": null,
          "name": "Other"
        }
      ]
    },
    {
      "id": "b6248501-2ad2-447c-90e7-400bb71d5994",
      "created_at": "2019-08-09T10:35:50.210000",
      "updated_at": "2019-08-09T10:35:50.210000",
      "original_name": "test-image.png",
      "storage_path": "5a61838d-0fe5-458a-a683-141b5c3d79fa/b6248501-2ad2-447c-90e7-400bb71d5994.png",
      "application_id": "5a61838d-0fe5-458a-a683-141b5c3d79fa",
      "document_size_id": "a3ec6180-a863-43e9-8f6c-de7a171ce489",
      "document_size": {
        "id": "a3ec6180-a863-43e9-8f6c-de7a171ce489",
        "created_at": "2019-08-09T10:35:47.079000",
        "updated_at": null,
        "name": "A1"
      },
      "document_types_existing_ids": [],
      "document_types_existing": [],
      "document_types_proposed_ids": [
        "cbddcfc8-d062-4202-b350-f875c04c6aa0",
        "f1ff39d9-aab3-46e3-8749-dad11c04e3b8"
      ],
      "document_types_proposed": [
        {
          "id": "cbddcfc8-d062-4202-b350-f875c04c6aa0",
          "created_at": "2019-08-09T10:35:47.124000",
          "updated_at": null,
          "name": "Floor plans"
        },
        {
          "id": "f1ff39d9-aab3-46e3-8749-dad11c04e3b8",
          "created_at": "2019-08-09T10:35:47.127000",
          "updated_at": null,
          "name": "Other"
        }
      ]
    }
  ],
  "payments": [
    {
      "id": "b06df840-4fde-47ac-b649-2f1edaded3a8",
      "created_at": "2019-08-09T10:35:50.742000",
      "updated_at": "2019-08-09T10:35:50.752000",
      "amount": 1200,
      "description": "Your Service Description",
      "reference": "your-reference",
      "state": {
        "id": null,
        "created_at": null,
        "updated_at": null,
        "status": "created",
        "finished": true,
        "message": "User cancelled the payment",
        "code": "P010"
      },
      "refund_summary": {
        "id": null,
        "created_at": null,
        "updated_at": null,
        "status": "available",
        "amount_available": 100,
        "amount_submitted": 0
      },
      "payment_id": "hu20sqlact5260q2nanm0q8u93",
      "payment_provider": "worldpay",
      "created_date": "2016-01-21T17:15:00+00:00",
      "settlement_summary": {
        "id": null,
        "created_at": null,
        "updated_at": null,
        "capture_submit_time": "2016-01-21T17:15:00+00:00",
        "captured_date": "2016-01-21"
      },
      "delayed_capture": false,
      "return_url": "http://your.service.domain/your-reference",
      "next_url": "https://www.payments.service.gov.uk/secure/SOME_UUID",
      "email": "your email",
      "language": "en",
      "corporate_card_surcharge": 250,
      "total_amount": 1450,
      "fee": 5,
      "net_amount": 1195,
      "provider_id": "reference-from-payment-gateway",
      "card_brand": "Visa",
      "card_details": {
        "id": null,
        "created_at": null,
        "updated_at": null,
        "last_digits_card_number": "1234",
        "first_digits_card_number": "123456",
        "cardholder_name": "Mr. Card holder",
        "expiry_date": "12/20",
        "billing_address": {
          "id": null,
          "created_at": null,
          "updated_at": null,
          "line1": "address line 1",
          "line2": "address line 2",
          "postcode": "AB1 2CD",
          "city": "address city",
          "country": "GB"
        },
        "card_brand": "Visa"
      },
      "metadata": "{\"property1\": \"string\", \"property2\": \"string\"}",
      "_links": "{\"self\": {\"href\": \"https://an.example.link/from/payment/platform\", \"method\": \"GET\"}, \"next_url\": {\"href\": \"https://an.example.link/from/payment/platform\", \"method\": \"GET\"}, \"next_url_post\": {\"type\": \"application/x-www-form-urlencoded\", \"params\": {\"description\": \"This is a value for a parameter called description\"}, \"href\": \"https://an.example.link/from/payment/platform\", \"method\": \"POST\"}, \"events\": {\"href\": \"https://an.example.link/from/payment/platform\", \"method\": \"GET\"}, \"refunds\": {\"href\": \"https://an.example.link/from/payment/platform\", \"method\": \"GET\"}, \"cancel\": {\"type\": \"application/x-www-form-urlencoded\", \"params\": {\"description\": \"This is a value for a parameter called description\"}, \"href\": \"https://an.example.link/from/payment/platform\", \"method\": \"POST\"}, \"capture\": {\"type\": \"application/x-www-form-urlencoded\", \"params\": {\"description\": \"This is a value for a parameter called description\"}, \"href\": \"https://an.example.link/from/payment/platform\", \"method\": \"POST\"}}",
      "owner_id": "b7d623db-5b4a-43df-b3f1-2bfca845d657",
      "owner": {
        "id": "b7d623db-5b4a-43df-b3f1-2bfca845d657",
        "created_at": "2019-08-09T10:35:47.953000",
        "updated_at": "2019-08-09T10:35:51.522000",
        "_id": "5d4d4c835341f36f125953e7",
        "email": "test@example.com",
        "profile_id": "7e5a3176-5b92-4dc0-90d8-b3a96ebe0ed5",
        "role_id": "831083f5-b7c9-4967-8561-ac4011be54e4",
        "role": {
          "id": "831083f5-b7c9-4967-8561-ac4011be54e4",
          "created_at": "2019-08-09T10:35:47.137000",
          "updated_at": null,
          "name": "User"
        },
        "profile": {
          "id": "7e5a3176-5b92-4dc0-90d8-b3a96ebe0ed5",
          "created_at": "2019-08-09T10:35:47.950000",
          "updated_at": null,
          "company": null,
          "name": null,
          "email_addresses": null,
          "phone": null
        },
        "verified_at": "2019-08-09T10:35:47.691653+0000",
        "reset_token": null,
        "reset_token_expires": null
      },
      "application_id": "5a61838d-0fe5-458a-a683-141b5c3d79fa"
    },
    {
      "id": "8792a6e9-35c8-4b1b-bb4f-d4444eaa55d1",
      "created_at": "2019-08-09T10:35:50.851000",
      "updated_at": "2019-08-09T10:35:50.851000",
      "amount": null,
      "description": "Submit my Planning Application payment",
      "reference": null,
      "state": null,
      "refund_summary": null,
      "payment_id": null,
      "payment_provider": null,
      "created_date": null,
      "settlement_summary": null,
      "delayed_capture": false,
      "return_url": null,
      "next_url": null,
      "email": null,
      "language": null,
      "corporate_card_surcharge": null,
      "total_amount": null,
      "fee": null,
      "net_amount": null,
      "provider_id": null,
      "card_brand": null,
      "card_details": null,
      "metadata": null,
      "_links": null,
      "owner_id": "b7d623db-5b4a-43df-b3f1-2bfca845d657",
      "owner": {
        "id": "b7d623db-5b4a-43df-b3f1-2bfca845d657",
        "created_at": "2019-08-09T10:35:47.953000",
        "updated_at": "2019-08-09T10:35:51.522000",
        "_id": "5d4d4c835341f36f125953e7",
        "email": "test@example.com",
        "profile_id": "7e5a3176-5b92-4dc0-90d8-b3a96ebe0ed5",
        "role_id": "831083f5-b7c9-4967-8561-ac4011be54e4",
        "role": {
          "id": "831083f5-b7c9-4967-8561-ac4011be54e4",
          "created_at": "2019-08-09T10:35:47.137000",
          "updated_at": null,
          "name": "User"
        },
        "profile": {
          "id": "7e5a3176-5b92-4dc0-90d8-b3a96ebe0ed5",
          "created_at": "2019-08-09T10:35:47.950000",
          "updated_at": null,
          "company": null,
          "name": null,
          "email_addresses": null,
          "phone": null
        },
        "verified_at": "2019-08-09T10:35:47.691653+0000",
        "reset_token": null,
        "reset_token_expires": null
      },
      "application_id": "5a61838d-0fe5-458a-a683-141b5c3d79fa"
    }
  ]
}
</code></pre>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../1-screen/" class="btn btn-neutral float-right" title="1. Starting the works">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../screens/" class="btn btn-neutral" title="Screen notes"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../screens/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../1-screen/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme.js" defer></script>
      <script src="../../search/main.js" defer></script>

</body>
</html>
